[gd_scene load_steps=17 format=3 uid="uid://dkydrawijeyqe"]

[ext_resource type="PackedScene" uid="uid://vfkensc2u1h1" path="res://UI/GameUI.tscn" id="1_2ob6e"]
[ext_resource type="Script" path="res://Game/scripts/time_manager.gd" id="1_5ff1s"]
[ext_resource type="Script" path="res://Game/scripts/roel_manager.gd" id="1_d20kw"]
[ext_resource type="Script" path="res://Game/CameraController.gd" id="1_hw18y"]
[ext_resource type="Script" path="res://Game/scripts/CharacterPicker.gd" id="1_iuers"]
[ext_resource type="Texture2D" uid="uid://xjnhaqsrm5xk" path="res://Textures/grond.png" id="1_n0ep5"]
[ext_resource type="Resource" uid="uid://815ki2igdjnh" path="res://resources/day1.tres" id="2_1wdd8"]
[ext_resource type="NavigationPolygon" uid="uid://nxn7qiavic2y" path="res://Game/navigation/navigationPolygon.tres" id="2_va8h4"]
[ext_resource type="PackedScene" uid="uid://dylnvnx8f0goe" path="res://entities/DikkeRon.tscn" id="3_gqgcv"]
[ext_resource type="Shader" path="res://Game/shaders/vignette.gdshader" id="5_r6mn3"]
[ext_resource type="Script" path="res://Game/scripts/politiezone_klein_brabant.gd" id="7_tagq4"]
[ext_resource type="PackedScene" uid="uid://ilr4hbnewu7c" path="res://entities/dePolies/Politie.tscn" id="8_w3de5"]
[ext_resource type="PackedScene" uid="uid://c0nf64sqguqsh" path="res://decorations/Tree1.tscn" id="10_fhypo"]
[ext_resource type="Texture2D" uid="uid://dcv03si8yomb3" path="res://Textures/buldings_1.png" id="12_rcx3c"]
[ext_resource type="Texture2D" uid="uid://balnyvlsal5gi" path="res://Textures/buldings_2.png" id="13_tv7ae"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_rk6gf"]
shader = ExtResource("5_r6mn3")
shader_parameter/vignette_intensity = 0.4
shader_parameter/vignette_opacity = 1.0
shader_parameter/vignette_rgb = Color(0, 0, 0, 1)

[node name="Game" type="Node2D"]
y_sort_enabled = true

[node name="RoelManager" type="Node" parent="."]
script = ExtResource("1_d20kw")
dayRules = ExtResource("2_1wdd8")

[node name="TimeManager" type="Node" parent="."]
script = ExtResource("1_5ff1s")
dayDuration = 60

[node name="Timer" type="Timer" parent="TimeManager"]
one_shot = true

[node name="Camera" type="Camera2D" parent="."]
limit_left = -700
limit_top = -600
limit_right = 700
limit_bottom = 600
limit_smoothed = true
position_smoothing_enabled = true
position_smoothing_speed = 15.0
script = ExtResource("1_hw18y")

[node name="CanvasLayer" type="CanvasLayer" parent="Camera"]

[node name="left" type="PanelContainer" parent="Camera/CanvasLayer"]
modulate = Color(1, 1, 1, 0)
anchors_preset = -1
anchor_right = 0.08
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
size_flags_horizontal = 3
mouse_filter = 1

[node name="right" type="PanelContainer" parent="Camera/CanvasLayer"]
modulate = Color(1, 1, 1, 0)
anchors_preset = -1
anchor_left = 0.92
anchor_right = 1.0
anchor_bottom = 1.0
offset_right = -0.00012207
grow_horizontal = 2
size_flags_horizontal = 3
size_flags_vertical = 3
mouse_filter = 1

[node name="bot" type="PanelContainer" parent="Camera/CanvasLayer"]
modulate = Color(1, 1, 1, 0)
anchors_preset = -1
anchor_top = 0.9
anchor_right = 1.0
anchor_bottom = 1.0
offset_bottom = -6.10352e-05
grow_horizontal = 2
grow_vertical = 0
size_flags_horizontal = 3
size_flags_vertical = 3
mouse_filter = 1

[node name="top" type="PanelContainer" parent="Camera/CanvasLayer"]
modulate = Color(1, 1, 1, 0)
anchors_preset = -1
anchor_right = 1.0
anchor_bottom = 0.1
grow_horizontal = 2
grow_vertical = 0
size_flags_horizontal = 3
size_flags_vertical = 3
mouse_filter = 1

[node name="NavigationRegion" type="NavigationRegion2D" parent="."]
y_sort_enabled = true
navigation_polygon = ExtResource("2_va8h4")

[node name="Grond" type="Sprite2D" parent="NavigationRegion"]
z_index = -1
texture_repeat = 2
texture = ExtResource("1_n0ep5")
region_enabled = true
region_rect = Rect2(0, 0, 1200, 1300)

[node name="Grond" type="Sprite2D" parent="NavigationRegion/Grond"]
modulate = Color(0.485703, 0.485704, 0.485703, 1)
z_index = -1
texture_repeat = 2
texture = ExtResource("1_n0ep5")
region_enabled = true
region_rect = Rect2(0, 0, 1800, 1300)

[node name="UILayer" type="CanvasLayer" parent="NavigationRegion"]

[node name="vignette" type="ColorRect" parent="NavigationRegion/UILayer"]
material = SubResource("ShaderMaterial_rk6gf")
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="Distortion" type="ColorRect" parent="NavigationRegion/UILayer"]
visible = false
material = SubResource("ShaderMaterial_rk6gf")
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="GameUI" parent="NavigationRegion/UILayer" instance=ExtResource("1_2ob6e")]

[node name="decorations" type="Node2D" parent="NavigationRegion"]
y_sort_enabled = true
position = Vector2(-1, 4)

[node name="Tree1" parent="NavigationRegion/decorations" instance=ExtResource("10_fhypo")]
position = Vector2(89, -124)
scale = Vector2(2, 2)

[node name="Tree2" parent="NavigationRegion/decorations" instance=ExtResource("10_fhypo")]
position = Vector2(153, -124)
scale = Vector2(2, 2)

[node name="Tree3" parent="NavigationRegion/decorations" instance=ExtResource("10_fhypo")]
position = Vector2(153, -60)
scale = Vector2(2, 2)

[node name="Tree4" parent="NavigationRegion/decorations" instance=ExtResource("10_fhypo")]
position = Vector2(86, -60)
scale = Vector2(2, 2)

[node name="buldingsR" type="Sprite2D" parent="NavigationRegion/decorations"]
position = Vector2(601, -4)
texture = ExtResource("12_rcx3c")

[node name="buldingsL" type="Sprite2D" parent="NavigationRegion/decorations"]
position = Vector2(-599, -4)
texture = ExtResource("13_tv7ae")

[node name="Characters" type="Node2D" parent="NavigationRegion" node_paths=PackedStringArray("navigationRegion")]
y_sort_enabled = true
position = Vector2(-78, 11)
script = ExtResource("1_iuers")
navigationRegion = NodePath("..")

[node name="DikkeRon" parent="NavigationRegion/Characters" instance=ExtResource("3_gqgcv")]
position = Vector2(110, -59)

[node name="DikkeRon2" parent="NavigationRegion/Characters" instance=ExtResource("3_gqgcv")]
position = Vector2(-44, 39)

[node name="Politiezone Klein Brabant" type="Node2D" parent="NavigationRegion"]
script = ExtResource("7_tagq4")

[node name="Politie2" parent="NavigationRegion/Politiezone Klein Brabant" instance=ExtResource("8_w3de5")]
position = Vector2(-454, 142)

[node name="Politie" parent="NavigationRegion/Politiezone Klein Brabant" instance=ExtResource("8_w3de5")]
position = Vector2(-227, 71)

[node name="Politie3" parent="NavigationRegion/Politiezone Klein Brabant" instance=ExtResource("8_w3de5")]
position = Vector2(396, -93)

[connection signal="timeout" from="TimeManager/Timer" to="TimeManager" method="_on_timer_timeout"]
[connection signal="edgeNoLongerHit" from="Camera" to="NavigationRegion/UILayer/GameUI" method="_on_camera_edge_no_longer_hit"]
[connection signal="hitEdge" from="Camera" to="NavigationRegion/UILayer/GameUI" method="_on_camera_hit_edge"]
[connection signal="moving" from="Camera" to="NavigationRegion/UILayer/GameUI" method="_on_camera_moving"]
[connection signal="stationary" from="Camera" to="NavigationRegion/UILayer/GameUI" method="_on_camera_stationary"]
[connection signal="guyDragged" from="NavigationRegion/Characters" to="NavigationRegion/Politiezone Klein Brabant" method="_on_characters_guy_dragged"]
