[gd_scene load_steps=23 format=3 uid="uid://dkydrawijeyqe"]

[ext_resource type="PackedScene" uid="uid://vfkensc2u1h1" path="res://UI/GameUI.tscn" id="1_2ob6e"]
[ext_resource type="Script" path="res://Game/scripts/time_manager.gd" id="1_5ff1s"]
[ext_resource type="Script" path="res://Game/scripts/guy_spawner.gd" id="1_8lkux"]
[ext_resource type="Script" path="res://Game/scripts/roel_manager.gd" id="1_d20kw"]
[ext_resource type="Script" path="res://Game/CameraController.gd" id="1_hw18y"]
[ext_resource type="Script" path="res://Game/scripts/CharacterPicker.gd" id="1_iuers"]
[ext_resource type="Texture2D" uid="uid://xjnhaqsrm5xk" path="res://Textures/grond.png" id="1_n0ep5"]
[ext_resource type="Resource" uid="uid://815ki2igdjnh" path="res://resources/day1.tres" id="2_1wdd8"]
[ext_resource type="Script" path="res://resources/DayRuleResource.gd" id="2_puv3e"]
[ext_resource type="NavigationPolygon" uid="uid://nxn7qiavic2y" path="res://Game/navigation/navigationPolygon.tres" id="2_va8h4"]
[ext_resource type="PackedScene" uid="uid://dylnvnx8f0goe" path="res://entities/DikkeRon.tscn" id="3_gqgcv"]
[ext_resource type="Shader" path="res://Game/shaders/vignette.gdshader" id="5_r6mn3"]
[ext_resource type="Script" path="res://Game/scripts/politiezone_klein_brabant.gd" id="7_tagq4"]
[ext_resource type="PackedScene" uid="uid://ilr4hbnewu7c" path="res://entities/dePolies/Politie.tscn" id="8_w3de5"]
[ext_resource type="PackedScene" uid="uid://bq1e5kfxn4lle" path="res://decorations/hekker.tscn" id="9_s70as"]
[ext_resource type="PackedScene" uid="uid://dg7abm7180wkv" path="res://UI/PauseMenu.tscn" id="9_vtdpc"]
[ext_resource type="PackedScene" uid="uid://c0nf64sqguqsh" path="res://decorations/Tree1.tscn" id="10_fhypo"]
[ext_resource type="Texture2D" uid="uid://dcv03si8yomb3" path="res://Textures/buldings_1.png" id="12_rcx3c"]
[ext_resource type="Texture2D" uid="uid://balnyvlsal5gi" path="res://Textures/buldings_2.png" id="13_tv7ae"]
[ext_resource type="Script" path="res://Game/scripts/floaty_text_spawner.gd" id="18_fkr3s"]
[ext_resource type="PackedScene" uid="uid://dgx4yfq0frsf6" path="res://decorations/fountain.tscn" id="18_tqgm8"]
[ext_resource type="Script" path="res://Game/cursor.gd" id="23_m7f27"]

[sub_resource type="NavigationPolygon" id="NavigationPolygon_700af"]
vertices = PackedVector2Array(-188, -516.75, 280, -520.75, 498, -520.75, 293, -513.25, -202, -513.25, 525.063, -533.281, 521.891, -361.258, 498, -533.25, 501, -542.75, -542.133, -350.492, -542.727, -364.898, -521.961, -360.953, -521.039, -342.461, 179, -49, 179, -73, 479, -117.938, 479, 21.8828, 179, -113, 477, -148.711, 503.898, -123.906, 35.9375, -5.15625, 38.1797, -13.5, 129, -49, 112, -49, 62, -49, 35.9375, -21.8438, 520, 279.258, 542, 274.258, 542, 285.18, 520, 291.18, -523.023, -531.508, -544.852, -539.453, -544.227, -555.648, -524, -550.602, -494, -526.75, 503.141, -154.75, -520, 509.75, -520, 499.023, -504.063, 502.008, -502, 517.75, -537.844, 289.227, -537.219, 273.047, -522, 276.102, -519.922, 294.219, -502, -126.383, -502, -152.297, -479, -149.313, -477, -116.391, -541, 97.3281, -541, 84.5469, -522.094, 86.5391, -522, 103.344, 293, -500.75, 521.039, -344.758, 477, -239.797, -468, -516.75, 522.094, 83.4922, 543, 81.5, 543, 96.9609, 520, 101.969, 544.25, -364.313, 544.828, -351.703, -524, -575.961, 523.281, -569.031, 524.094, -555.25, 501, -555.25, -487, -565.25, 499, 501.258, 519, 500.25, 519, 509.094, 498.953, 514.109, 179, -137, 29.8438, -27.9375, 499.93, 595.977, -502, 594, -188, -529.25, 280, -533.25, -487, -552.75, -521, -565.25, -521, -552.75, -460, -529.25, -460, -539.25, -468, -526.75, 129, -137, 129, -113, 115, -113, 115, -137, 129, -73, 112, -73, 65, -113, 62, -73, 499, 392.227, -502.961, 392.352, -202, -500.75, -479, -240.75, -477, 20.7813, 521.078, 22.8828, -521.07, 22.7734, 535, -542.75, 535, -552.359, 540.742, -552.719, 542.492, -541.023, -494, -539.25, 520, 386.219, -521.906, 386.352, 520.039, -251.797, -520.039, -252.75, 65, -137, -22.1563, -30, 29.8438, 0.9375, 22.1563, -30, -29.8438, -27.9375, -35.9375, -21.8438, -38.1797, -13.5, -35.9375, -5.15625, -29.8438, 0.9375, 22.1563, 3, -22.1563, 3)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3, 4), PackedInt32Array(5, 6, 2, 7, 8), PackedInt32Array(9, 10, 11, 12), PackedInt32Array(13, 14, 15, 16), PackedInt32Array(15, 14, 17, 18, 19), PackedInt32Array(13, 16, 20, 21, 22), PackedInt32Array(23, 22, 21), PackedInt32Array(24, 23, 21, 25), PackedInt32Array(26, 27, 28, 29), PackedInt32Array(30, 31, 32, 33, 34), PackedInt32Array(18, 35, 19), PackedInt32Array(36, 37, 38, 39), PackedInt32Array(40, 41, 42, 43), PackedInt32Array(44, 45, 46, 47), PackedInt32Array(48, 49, 50, 51), PackedInt32Array(52, 3, 2, 6, 53, 54), PackedInt32Array(55, 0, 4), PackedInt32Array(56, 57, 58, 59), PackedInt32Array(6, 60, 61, 53), PackedInt32Array(62, 63, 64, 65, 66), PackedInt32Array(67, 68, 69, 70), PackedInt32Array(54, 18, 17, 71, 52), PackedInt32Array(24, 25, 72), PackedInt32Array(70, 73, 74, 39), PackedInt32Array(1, 0, 75, 76), PackedInt32Array(77, 66, 65, 8, 7, 76), PackedInt32Array(62, 66, 78), PackedInt32Array(33, 62, 78, 79), PackedInt32Array(75, 80, 81), PackedInt32Array(34, 82, 55, 11), PackedInt32Array(83, 84, 85, 86), PackedInt32Array(84, 17, 14, 87), PackedInt32Array(88, 85, 84, 87, 23), PackedInt32Array(87, 22, 23), PackedInt32Array(89, 85, 88, 90), PackedInt32Array(91, 67, 70, 39, 38, 92), PackedInt32Array(12, 11, 55, 4, 93, 94), PackedInt32Array(95, 16, 96, 56, 59, 51, 50, 97), PackedInt32Array(98, 99, 100, 101), PackedInt32Array(98, 101, 5, 8), PackedInt32Array(77, 76, 75, 81), PackedInt32Array(77, 81, 102, 79), PackedInt32Array(29, 103, 91, 92), PackedInt32Array(26, 29, 92), PackedInt32Array(43, 59, 26, 92, 104), PackedInt32Array(53, 105, 54), PackedInt32Array(59, 43, 42, 51), PackedInt32Array(94, 106, 12), PackedInt32Array(79, 102, 34, 33), PackedInt32Array(11, 30, 34), PackedInt32Array(93, 52, 71, 83), PackedInt32Array(93, 83, 86), PackedInt32Array(94, 93, 86, 107, 46), PackedInt32Array(47, 46, 107, 89, 90), PackedInt32Array(95, 47, 90, 24, 108), PackedInt32Array(109, 20, 16), PackedInt32Array(24, 72, 110), PackedInt32Array(24, 110, 108), PackedInt32Array(95, 108, 111), PackedInt32Array(95, 111, 112), PackedInt32Array(95, 112, 113), PackedInt32Array(95, 113, 114), PackedInt32Array(95, 114, 115), PackedInt32Array(116, 109, 16), PackedInt32Array(116, 16, 95, 117), PackedInt32Array(95, 115, 117)])
outlines = Array[PackedVector2Array]([PackedVector2Array(-507, 599, -507, 521, -525, 513, -525, 493, -509, 496, -508, 396, -527, 390, -525, 298, -543, 293, -542, 267, -527, 270, -527, 203, -527, 107, -546, 101, -546, 79, -527, 81, -526, 18, -482, 16, -482, -113, -507, -123, -507, -158, -484, -155, -484, -237, -525, -249, -526, -339, -547, -347, -548, -371, -527, -367, -528, -528, -550, -536, -549, -562, -529, -557, -529, -581, 528, -574, 529, -557, 545, -558, 548, -538, 530, -530, 527, -367, 549, -370, 550, -348, 526, -341, 525, -248, 482, -236, 482, -155, 508, -161, 509, -120, 484, -114, 484, 17, 526, 18, 527, 78, 548, 76, 548, 101, 525, 106, 525, 273, 547, 268, 547, 289, 525, 295, 525, 390, 504, 396, 504, 496, 524, 495, 524, 513, 504, 518, 505, 601)])
agent_radius = 5.0

[sub_resource type="ShaderMaterial" id="ShaderMaterial_rk6gf"]
shader = ExtResource("5_r6mn3")
shader_parameter/vignette_intensity = 0.4
shader_parameter/vignette_opacity = 1.0
shader_parameter/vignette_rgb = Color(0, 0, 0, 1)

[node name="Game" type="Node2D"]
y_sort_enabled = true

[node name="GuySpawner" type="Node" parent="." node_paths=PackedStringArray("targetNode", "navmap")]
script = ExtResource("1_8lkux")
targetNode = NodePath("../NavigationRegion/Characters")
navmap = NodePath("../NavigationRegion")

[node name="SpawnMarker" type="Marker2D" parent="GuySpawner"]
position = Vector2(0, 640)

[node name="PollGuyCount" type="Timer" parent="GuySpawner"]
wait_time = 2.0

[node name="SpawnDelay" type="Timer" parent="GuySpawner"]
one_shot = true

[node name="RoelManager" type="Node" parent="."]
script = ExtResource("1_d20kw")
dayRules = ExtResource("2_1wdd8")

[node name="TimeManager" type="Node" parent="."]
script = ExtResource("1_5ff1s")

[node name="Timer" type="Timer" parent="TimeManager"]
one_shot = true

[node name="Camera" type="Camera2D" parent="."]
limit_left = -700
limit_top = -600
limit_right = 700
limit_bottom = 600
limit_smoothed = true
position_smoothing_enabled = true
position_smoothing_speed = 15.0
script = ExtResource("1_hw18y")

[node name="CanvasLayer" type="CanvasLayer" parent="Camera"]

[node name="left" type="PanelContainer" parent="Camera/CanvasLayer"]
modulate = Color(1, 1, 1, 0)
anchors_preset = -1
anchor_right = 0.08
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
size_flags_horizontal = 3
mouse_filter = 1

[node name="right" type="PanelContainer" parent="Camera/CanvasLayer"]
modulate = Color(1, 1, 1, 0)
anchors_preset = -1
anchor_left = 0.92
anchor_right = 1.0
anchor_bottom = 1.0
offset_right = -0.00012207
grow_horizontal = 2
size_flags_horizontal = 3
size_flags_vertical = 3
mouse_filter = 1

[node name="bot" type="PanelContainer" parent="Camera/CanvasLayer"]
modulate = Color(1, 1, 1, 0)
anchors_preset = -1
anchor_top = 0.9
anchor_right = 1.0
anchor_bottom = 1.0
offset_bottom = -6.10352e-05
grow_horizontal = 2
grow_vertical = 0
size_flags_horizontal = 3
size_flags_vertical = 3
mouse_filter = 1

[node name="top" type="PanelContainer" parent="Camera/CanvasLayer"]
modulate = Color(1, 1, 1, 0)
anchors_preset = -1
anchor_right = 1.0
anchor_bottom = 0.1
grow_horizontal = 2
grow_vertical = 0
size_flags_horizontal = 3
size_flags_vertical = 3
mouse_filter = 1

[node name="NavigationRegion" type="NavigationRegion2D" parent="."]
y_sort_enabled = true
navigation_polygon = SubResource("NavigationPolygon_700af")

[node name="Grond" type="Sprite2D" parent="NavigationRegion"]
z_index = -1
texture_repeat = 2
texture = ExtResource("1_n0ep5")
region_enabled = true
region_rect = Rect2(0, 0, 1200, 1300)

[node name="Grond" type="Sprite2D" parent="NavigationRegion/Grond"]
modulate = Color(0.485703, 0.485704, 0.485703, 1)
z_index = -1
texture_repeat = 2
texture = ExtResource("1_n0ep5")
region_enabled = true
region_rect = Rect2(0, 0, 1800, 1300)

[node name="UILayer" type="CanvasLayer" parent="NavigationRegion"]

[node name="vignette" type="ColorRect" parent="NavigationRegion/UILayer"]
material = SubResource("ShaderMaterial_rk6gf")
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="GameUI" parent="NavigationRegion/UILayer" instance=ExtResource("1_2ob6e")]

[node name="PauseMenu" parent="NavigationRegion/UILayer" instance=ExtResource("9_vtdpc")]
visible = false

[node name="decorations" type="Node2D" parent="NavigationRegion"]
y_sort_enabled = true
position = Vector2(-1, 4)

[node name="HerasHekken" type="Node2D" parent="NavigationRegion/decorations"]
y_sort_enabled = true

[node name="Hekker" parent="NavigationRegion/decorations/HerasHekken" instance=ExtResource("9_s70as")]
position = Vector2(-450, -527)

[node name="Hekker2" parent="NavigationRegion/decorations/HerasHekken" instance=ExtResource("9_s70as")]
position = Vector2(-387, -527)

[node name="Hekker3" parent="NavigationRegion/decorations/HerasHekken" instance=ExtResource("9_s70as")]
position = Vector2(-358, -527)

[node name="Hekker4" parent="NavigationRegion/decorations/HerasHekken" instance=ExtResource("9_s70as")]
position = Vector2(-327, -527)

[node name="Hekker5" parent="NavigationRegion/decorations/HerasHekken" instance=ExtResource("9_s70as")]
position = Vector2(-294, -527)

[node name="Hekker6" parent="NavigationRegion/decorations/HerasHekken" instance=ExtResource("9_s70as")]
position = Vector2(-263, -527)

[node name="Hekker7" parent="NavigationRegion/decorations/HerasHekken" instance=ExtResource("9_s70as")]
position = Vector2(-235, -527)

[node name="Hekker8" parent="NavigationRegion/decorations/HerasHekken" instance=ExtResource("9_s70as")]
position = Vector2(-204, -527)

[node name="Hekker9" parent="NavigationRegion/decorations/HerasHekken" instance=ExtResource("9_s70as")]
position = Vector2(-184, -511)

[node name="Hekker10" parent="NavigationRegion/decorations/HerasHekken" instance=ExtResource("9_s70as")]
position = Vector2(-153, -511)

[node name="Hekker11" parent="NavigationRegion/decorations/HerasHekken" instance=ExtResource("9_s70as")]
position = Vector2(-124, -511)

[node name="Hekker12" parent="NavigationRegion/decorations/HerasHekken" instance=ExtResource("9_s70as")]
position = Vector2(-93, -511)

[node name="Hekker13" parent="NavigationRegion/decorations/HerasHekken" instance=ExtResource("9_s70as")]
position = Vector2(-60, -511)

[node name="Hekker14" parent="NavigationRegion/decorations/HerasHekken" instance=ExtResource("9_s70as")]
position = Vector2(-29, -511)

[node name="Hekker15" parent="NavigationRegion/decorations/HerasHekken" instance=ExtResource("9_s70as")]
position = Vector2(0, -511)

[node name="Hekker16" parent="NavigationRegion/decorations/HerasHekken" instance=ExtResource("9_s70as")]
position = Vector2(31, -511)

[node name="Hekker17" parent="NavigationRegion/decorations/HerasHekken" instance=ExtResource("9_s70as")]
position = Vector2(62, -511)

[node name="Hekker18" parent="NavigationRegion/decorations/HerasHekken" instance=ExtResource("9_s70as")]
position = Vector2(93, -511)

[node name="Hekker19" parent="NavigationRegion/decorations/HerasHekken" instance=ExtResource("9_s70as")]
position = Vector2(122, -511)

[node name="Hekker20" parent="NavigationRegion/decorations/HerasHekken" instance=ExtResource("9_s70as")]
position = Vector2(153, -511)

[node name="Hekker21" parent="NavigationRegion/decorations/HerasHekken" instance=ExtResource("9_s70as")]
position = Vector2(186, -511)

[node name="Hekker22" parent="NavigationRegion/decorations/HerasHekken" instance=ExtResource("9_s70as")]
position = Vector2(217, -511)

[node name="Hekker23" parent="NavigationRegion/decorations/HerasHekken" instance=ExtResource("9_s70as")]
position = Vector2(246, -511)

[node name="Hekker24" parent="NavigationRegion/decorations/HerasHekken" instance=ExtResource("9_s70as")]
position = Vector2(277, -511)

[node name="Hekker25" parent="NavigationRegion/decorations/HerasHekken" instance=ExtResource("9_s70as")]
position = Vector2(298, -531)

[node name="Hekker26" parent="NavigationRegion/decorations/HerasHekken" instance=ExtResource("9_s70as")]
position = Vector2(329, -531)

[node name="Hekker27" parent="NavigationRegion/decorations/HerasHekken" instance=ExtResource("9_s70as")]
position = Vector2(358, -531)

[node name="Hekker28" parent="NavigationRegion/decorations/HerasHekken" instance=ExtResource("9_s70as")]
position = Vector2(389, -531)

[node name="Hekker29" parent="NavigationRegion/decorations/HerasHekken" instance=ExtResource("9_s70as")]
position = Vector2(422, -531)

[node name="Hekker30" parent="NavigationRegion/decorations/HerasHekken" instance=ExtResource("9_s70as")]
position = Vector2(453, -531)

[node name="Hekker31" parent="NavigationRegion/decorations/HerasHekken" instance=ExtResource("9_s70as")]
position = Vector2(482, -531)

[node name="Hekker32" parent="NavigationRegion/decorations/HerasHekken" instance=ExtResource("9_s70as")]
position = Vector2(519, -553)

[node name="Hekker33" parent="NavigationRegion/decorations/HerasHekken" instance=ExtResource("9_s70as")]
position = Vector2(-418, -527)

[node name="Hekker34" parent="NavigationRegion/decorations/HerasHekken" instance=ExtResource("9_s70as")]
position = Vector2(-476, -537)

[node name="Hekker35" parent="NavigationRegion/decorations/HerasHekken" instance=ExtResource("9_s70as")]
position = Vector2(-503, -563)

[node name="Tree1" parent="NavigationRegion/decorations" instance=ExtResource("10_fhypo")]
position = Vector2(89, -124)
scale = Vector2(2, 2)

[node name="Tree2" parent="NavigationRegion/decorations" instance=ExtResource("10_fhypo")]
position = Vector2(153, -124)
scale = Vector2(2, 2)

[node name="Tree3" parent="NavigationRegion/decorations" instance=ExtResource("10_fhypo")]
position = Vector2(153, -60)
scale = Vector2(2, 2)

[node name="Tree4" parent="NavigationRegion/decorations" instance=ExtResource("10_fhypo")]
position = Vector2(86, -60)
scale = Vector2(2, 2)

[node name="buldingsR" type="Sprite2D" parent="NavigationRegion/decorations"]
position = Vector2(601, -4)
texture = ExtResource("12_rcx3c")

[node name="buldingsL" type="Sprite2D" parent="NavigationRegion/decorations"]
position = Vector2(-599, -4)
texture = ExtResource("13_tv7ae")

[node name="Characters" type="Node2D" parent="NavigationRegion" node_paths=PackedStringArray("navigationRegion")]
y_sort_enabled = true
position = Vector2(-78, 11)
script = ExtResource("1_iuers")
navigationRegion = NodePath("..")

[node name="DikkeRon" parent="NavigationRegion/Characters" instance=ExtResource("3_gqgcv")]
position = Vector2(110, -59)

[node name="DikkeRon2" parent="NavigationRegion/Characters" instance=ExtResource("3_gqgcv")]
position = Vector2(-137, -167)

[node name="Politiezone Klein Brabant" type="Node2D" parent="NavigationRegion"]
script = ExtResource("7_tagq4")

[node name="Politie2" parent="NavigationRegion/Politiezone Klein Brabant" instance=ExtResource("8_w3de5")]
position = Vector2(-454, 142)

[node name="Politie" parent="NavigationRegion/Politiezone Klein Brabant" instance=ExtResource("8_w3de5")]
position = Vector2(-227, 71)

[node name="Politie3" parent="NavigationRegion/Politiezone Klein Brabant" instance=ExtResource("8_w3de5")]
position = Vector2(396, -93)

[node name="Fountain" parent="NavigationRegion" instance=ExtResource("18_tqgm8")]

[node name="FloatyTextSpawner" type="Node2D" parent="."]
script = ExtResource("18_fkr3s")

[node name="Cursor" type="Node" parent="."]
script = ExtResource("23_m7f27")

[connection signal="timeout" from="GuySpawner/PollGuyCount" to="GuySpawner" method="_on_poll_guy_count_timeout"]
[connection signal="timeout" from="TimeManager/Timer" to="TimeManager" method="_on_timer_timeout"]
[connection signal="edgeNoLongerHit" from="Camera" to="NavigationRegion/UILayer/GameUI" method="_on_camera_edge_no_longer_hit"]
[connection signal="hitEdge" from="Camera" to="NavigationRegion/UILayer/GameUI" method="_on_camera_hit_edge"]
[connection signal="moving" from="Camera" to="NavigationRegion/UILayer/GameUI" method="_on_camera_moving"]
[connection signal="stationary" from="Camera" to="NavigationRegion/UILayer/GameUI" method="_on_camera_stationary"]
[connection signal="guyDragged" from="NavigationRegion/Characters" to="NavigationRegion/Politiezone Klein Brabant" method="_on_characters_guy_dragged"]
